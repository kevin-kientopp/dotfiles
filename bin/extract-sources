#!/bin/bash
# extracts all sources jars from ~/.gradle/caches to a sources directory

sources_dir=~/code/sources
mkdir -p $sources_dir

jars=$(find ~/.gradle/caches/ -type f -name "*sources*.jar"); 

cd $sources_dir && 
for jar in $jars; do 
  folder=$(basename "$jar" .jar); 
  mkdir -p "$folder" && cd "$folder" && jar xvf "$jar" && cd ..; 
done;
